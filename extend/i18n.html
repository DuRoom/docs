<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-extend/i18n">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<title data-rh="true">Internationalization | DuRoom Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://duroom.github.io/docs/extend/i18n"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Internationalization | DuRoom Documentation"><meta data-rh="true" name="description" content="DuRoom features a powerful translation system (based on Symfony&#x27;s translator and ICU MessageFormat) that allows the interface to display information in virtually any language. You should consider taking advantage of DuRoom&#x27;s translator as you develop your extension, even if you have no intention of using it in more than a single language."><meta data-rh="true" property="og:description" content="DuRoom features a powerful translation system (based on Symfony&#x27;s translator and ICU MessageFormat) that allows the interface to display information in virtually any language. You should consider taking advantage of DuRoom&#x27;s translator as you develop your extension, even if you have no intention of using it in more than a single language."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://duroom.github.io/docs/extend/i18n"><link data-rh="true" rel="alternate" href="https://duroom.github.io/docs/extend/i18n" hreflang="en"><link data-rh="true" rel="alternate" href="https://duroom.github.io/docs/vi/extend/i18n" hreflang="vi"><link data-rh="true" rel="alternate" href="https://duroom.github.io/docs/extend/i18n" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8f7f784a.css">
<link rel="preload" href="/assets/js/runtime~main.ed85cb5e.js" as="script">
<link rel="preload" href="/assets/js/main.ca42051b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-docs.svg" alt="DuRoom Docs Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo-docs.svg" alt="DuRoom Docs Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Guide</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/extend">Extend</a><a class="navbar__item navbar__link" href="/internal">Internal</a><a href="https://api.duroom.js.org/docs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">DuRoom</a><ul class="dropdown__menu"><li><a href="https://duroom.js.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Home<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://discuss-duroom.js.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Community<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/DuRoom/core/" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/extend/i18n" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/vi/extend/i18n" target="_self" rel="noopener noreferrer" class="dropdown__link">Tiếng Việt</a></li></ul></div><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Main Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend">Extending DuRoom</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/start">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/frontend">Frontend Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/routes">Routes and Content</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/models">Models and Migrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/api">API and Data Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/distribution">Distribution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/cli">DuRoom CLI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Reference Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/admin">Admin Dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/backend-events">Backend Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/authorization">Authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/frontend-pages">Frontend Pages and Resolvers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/interactive-components">Interactive Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/extend/i18n">Internationalization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/language-packs">Translating DuRoom</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/forms">Forms and Requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/permissions">Groups and Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/settings">Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/theme">Themes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/views">Views and Blade</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Advanced Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/api-throttling">API Throttling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/assets">Extension Assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/console">Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/extending-extensions">Extending Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/extensibility">Extensibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/filesystem">Filesystem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/formatting">Formatting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/mail">Mail Drivers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/middleware">Middleware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/model-visibility">Model Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/slugging">Model Slugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/notifications">Notifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/post-types">Post Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/search">Searching and Filtering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/extend/service-provider">Service Provider</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Internationalization</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Internationalization</h1><p>DuRoom features a powerful translation system (based on <a href="https://symfony.com/doc/5.2/translation.html" target="_blank" rel="noopener noreferrer">Symfony&#x27;s translator</a> and <a href="https://symfony.com/doc/5.2/translation/message_format.html" target="_blank" rel="noopener noreferrer">ICU MessageFormat</a>) that allows the interface to display information in virtually any language. You should consider taking advantage of DuRoom&#x27;s translator as you develop your extension, even if you have no intention of using it in more than a single language.</p><p>For one thing, this system will allow you to change the information displayed by your extension without editing the actual code. It will also give you the tools needed to efficiently deal with phenomena such as pluralization and agreement for gender. And you never know: it may come in handy later if you decide you want to add more languages and make your extension available to users around the world!</p><p>This guide will show you how to <a href="#locale-file">create a locale file</a> containing language resources for your extension, and how to <a href="#using-the-translator">use the translator</a> to access those resources from within your code. You will learn how to deal with more complex translations involving <a href="#including-variables">variables</a> and <a href="#adding-html-tags">HTML tags</a>, as well as <a href="#handling-pluralization">pluralization</a> and <a href="#gender">gender</a>.</p><p>We will also describe the <a href="#appendix-a:-standard-key-format">standard format</a> to be followed when developing language resources for DuRoom, and offer <a href="#appendix-b:-coding-for-the-world">some tips</a> that can help you make your language resources easier to localize. But first, let&#x27;s begin with an overview of how DuRoom prioritizes resources when displaying output for a third-party extension.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-duroom-translates">How DuRoom Translates<a class="hash-link" href="#how-duroom-translates" title="Direct link to heading">​</a></h2><p>In your code, instead of hardcoding strings in a language, you will call the <code>trans</code> method on a translator object, providing a unique translation key and optionally some variables.
Then, when users visit the page, DuRoom will look in its registered translation files for a matching translation.</p><p>DuRoom pulls translations from several sources:</p><ul><li>Locale files included in extension source code.</li><li><a href="/extend/language-packs">Language packs</a>, which include translations for multiple extensions.</li></ul><p>As a rule, a DuRoom site can only display translations corresponding to the language packs that have been installed on that site. But DuRoom will do its level best <!-- -->—<!-- --> within this limitation <!-- -->—<!-- --> to render your extension&#x27;s output in some sort of user-readable language:</p><ol><li>It will begin by looking for a translation in the user&#x27;s preferred display language.</li><li>If it can&#x27;t find one, it will look for a translation in the forum&#x27;s default language.</li><li>As a last-ditch effort, it will look for a &quot;generic&quot; English translation of the output.</li><li>If none of the above are available, it will give up and display a translation key.</li></ol><p>Since English translations could be the only thing standing between forum users and unsightly translation keys, we strongly recommend including a complete set of English resources with every extension. (You will also need to include English resources if you wish to list your extension on the DuRoom Marketplace, when that launches). Generally, extension developers will include English translations in their extension, and other language translations in a <a href="/extend/language-packs">language pack</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="locale-file">Locale File<a class="hash-link" href="#locale-file" title="Direct link to heading">​</a></h2><p>DuRoom&#x27;s language resources use the <a href="https://en.wikipedia.org/wiki/YAML" target="_blank" rel="noopener noreferrer">YAML</a> file format. The locale files for a third-party extension need to be stored in the extension&#x27;s <code>locale</code> folder. Each locale file should be named using the <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" target="_blank" rel="noopener noreferrer">ISO 639-1 code</a> for the language it contains. For example, a file containing French translations should be named  &quot;<code>fr.yml</code>&quot;.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>If you wish to provide support for a specific locale, you can add an underscore followed by an <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes" target="_blank" rel="noopener noreferrer">ISO 3166-1 alpha-2</a> country code; the filename for French as spoken in Canada, for example, would be &quot;<code>fr_CA.yml</code>&quot;. But you should be sure to include a locale file containing &quot;generic&quot; translations for the same language, so DuRoom will have something it can fall back on in the event a user specifies a locale that you haven&#x27;t provided for.</p></div></div><p>The extension skeleton includes a <code>locale/en.yml</code> template where you can put your extension&#x27;s English translations. If you want to add resources for another language or locale, just duplicate the template and give it an appropriate filename. Then open the file and start adding your translations!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="adding-keys">Adding Keys<a class="hash-link" href="#adding-keys" title="Direct link to heading">​</a></h3><p>Each translation in the locale file must be preceded by a key, which you will use as the <strong>identifier</strong> for that translation. The ID key should be in <code>snake_case</code> and followed by a colon and a space, as shown below:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">sample_key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> This is a sample translation.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also use keys to <strong>namespace</strong> your translations. For starters, the first line of the locale file should consist of a single key that collects all the translations for your extension in a single namespace. This key should exactly match your <a href="/admin#telling-the-api-about-your-extension">extension&#x27;s ID</a> <!-- -->—<!-- --> <code>kebab-case</code> and all.</p><p>Additional keys can be used to divide the extension namespace into groups. This comes in handy when you want to organize your translations according to where they appear in the user interface, for example. These intermediate namespacing keys should always be in <code>snake_case</code>.</p><p>Each namespacing key should also be followed by a colon. Keys should be nested according to the YAML outline format, adding two spaces of indentation for each level in the hierarchy. Put this all together, and the locale file for the <a href="/extend/start">Quick Start tutorial</a> might look something like this:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">acme-hello-world</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">                </span><span class="token comment" style="color:rgb(98, 114, 164)"># Namespacing for the extension; unindented.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">alert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">                         </span><span class="token comment" style="color:rgb(98, 114, 164)"># Namespacing for alerts; indented 2 spaces.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">hello_text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello, world!&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Identifier/translation; indented 4 spaces.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you have this information in place, you can form the <strong>full translation key</strong> that you will use to access a translation by listing its keys in order from extension namespace to an identifier, with periods as delimiters. For example, the full translation key for the &quot;Hello, world!&quot; translation would be:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">&#x27;acme-hello-world.alert.hello_text&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>That&#x27;s really all you need to know about the mechanics of key creation. Please be aware, however, that there is a standard format that developers need to follow when creating language resources for DuRoom. The rules for <a href="#namespacing-translations">namespacing translations</a> and <a href="#naming-id-keys">naming ID keys</a> may be found in Appendix A.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="adding-translations">Adding Translations<a class="hash-link" href="#adding-translations" title="Direct link to heading">​</a></h3><p>The examples in the preceding section have already given you the basics: you type an ID key <!-- -->—<!-- --> followed by a colon and a space <!-- -->—<!-- --> then you type in the translation. It&#x27;s that easy! Here we would just like to add a few details that will help you deal with longer and more complex translations.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Quotation Marks</h5></div><div class="admonition-content"><p>You may have noticed that only one of the two sample translations in the previous section was enclosed in quotation marks. It is generally not necessary to delimit translations in this way. You should, however, use <strong>double quotes</strong> to enclose any translation that includes one or more of the following characters:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">`  !  @  #  %  &amp;  *  -  =  [  ]  {  }  |  :  ,  &lt;  &gt;  ?</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since DuRoom uses curly brackets and angle brackets to denote placeholders for <a href="#including-variables">variables</a> and <a href="#html-tags">HTML tags</a>, respectively, it goes without saying that any translation that includes such placeholders will also need to be enclosed in double quotes.</p><p>Furthermore, you should use <strong>single quotes</strong> to enclose any translation that includes one or more double quote (<code>&quot;</code>) or backslash (<code>\</code>) characters. This rule takes precedence! So if a translation were to include both double quotes and one or more characters from the list above <!-- -->—<!-- --> as does <a href="#including-variables">this example</a>, in which a variable placeholder is set off by quotation marks <!-- -->—<!-- --> you would need to enclose it in <em>single quotes</em>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="literal-blocks">Literal Blocks<a class="hash-link" href="#literal-blocks" title="Direct link to heading">​</a></h4><p>When you need a translation to appear as more than a single line of text, the translation should be added as a <strong>literal block</strong>. Enter a vertical bar (<code>|</code>) character where you would normally begin the translation, then add the translation below the ID key, indenting each line by an extra two spaces:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">literal_block_text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token scalar string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">  These lines will be displayed as shown here, line breaks and all.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">Extra indentation is also preserved</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> this line will be indented 4 spaces</span><span class="token tag" style="color:rgb(255, 121, 198)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Quote marks are unnecessary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> even when the block contains special characters.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The literal block ends with the last line to be indented at least two spaces more than the ID key. Quotation marks are not needed because the block is effectively delimited by this extra two spaces of indentation.</p><p>DuRoom&#x27;s core language resources employ literal blocks mainly for email body content.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="key-references">Key References<a class="hash-link" href="#key-references" title="Direct link to heading">​</a></h4><p>It&#x27;s not uncommon to use the same bit of text in more than one location or context. Let&#x27;s assume that you want your extension to display the phrase &quot;Edit Stuff&quot; in two locations in the user interface:</p><ul><li>As a <strong>button</strong> that users can click when they want to edit some stuff</li><li>As the <strong>title</strong> of a dialog box displayed when users click that button</li></ul><p>Your instinct might be to add a single translation <!-- -->—<!-- --> let&#x27;s call it &quot;<code>edit_stuff</code>&quot; <!-- -->—<!-- --> and use that ID key twice in your code. This approach is efficient, but it lacks flexibility: in some languages, it may not be possible to use the same phrase for both the button and the dialog title! A better way would be to define <em>two</em> keys for use in your code, then set them both to reference the same translation, like so:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">edit_stuff_button</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> edit_stuff    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used in the code that creates the button.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">edit_stuff_title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> edit_stuff     </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used in the code that creates the dialog.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">edit_stuff</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Edit Stuff              </span><span class="token comment" style="color:rgb(98, 114, 164)"># Not used in the code.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can set one key to reference another by replacing its translation with an equal sign (<code>=</code>), a greater-than sign (<code>&gt;</code>), and a space, followed by the full translation key to be referenced. When the extension is installed, DuRoom&#x27;s compiler will resolve these references to create a complete set of translations it can use.</p><p>There&#x27;s more to be said about referencing <!-- -->—<!-- --> for one thing, we&#x27;ve totally ignored the issue of namespacing in the above example! And you may be wondering why we suggested creating three keys when two would suffice. For an explanation, see the rules for <a href="#reusing-translations">reusing translations</a> in Appendix A.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="using-the-translator">Using the Translator<a class="hash-link" href="#using-the-translator" title="Direct link to heading">​</a></h2><p>Once you&#x27;ve added a translation to your locale file, with appropriate namespacing and identifier keys, you can use the <code>app.translator.trans()</code> method to reference that translation in your code. For instance, the <code>js/forum/src/index.js</code> file for the <a href="/extend/start">Quick Start tutorial</a> might end up looking like this:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">initializers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;acme-hello-world&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">alert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">translator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">trans</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;acme-hello-world.alert.hello_text&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This shows the basic translation method, with no bells or whistles attached. Below you&#x27;ll find examples of more complex translations involving things like <a href="#including-variables">variables</a> and <a href="#html-tags">HTML tags</a>. (Please note that we&#x27;ve omitted the namespacing in the following examples to keep them simple; if you look at the actual code, you&#x27;ll find the translations are properly namespaced according to the <a href="#namespacing-translations">standard format</a>.)</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="including-variables">Including Variables<a class="hash-link" href="#including-variables" title="Direct link to heading">​</a></h2><p>You can include variables in translations. As an example, let&#x27;s look at the code that creates the first item in DuRoom&#x27;s <a href="https://github.com/DuRoom/framework/blob/main/framework/core/js/src/forum/components/DiscussionsSearchSource.tsx" target="_blank" rel="noopener noreferrer">search results dropdown</a>. This button quotes the search query entered by the user <!-- -->—<!-- --> information that is passed to the translator along with the translation key, as an additional parameter:</p><div class="language-jsx codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-jsx codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">LinkButton</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">component</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;search&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">children</span><span class="token operator">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">translator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">trans</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;all_discussions_button&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">href</span><span class="token operator">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;index&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token literal-property property">q</span><span class="token operator">:</span><span class="token plain"> query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A matching placeholder in the translation lets the translator know where it should insert the variable:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">all_discussions_button</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Search all discussions for &quot;{query}&quot;&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since curly brackets are used to denote the placeholder, the translation as a whole needs to be enclosed in <a href="#quotation-marks">quotation marks</a>. Normally, double quotes would be used; but since this particular translation is using double quotes to set off the search query, the single-quote rule takes precedence.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="adding-html-tags">Adding HTML Tags<a class="hash-link" href="#adding-html-tags" title="Direct link to heading">​</a></h3><p>Abstracting translations from HTML can pose a unique challenge: How do you deal with HTML elements that affect just part of the sentence? Fortunately, DuRoom gives you a way to add tags to your translations.</p><p>You begin by adding a key to the parameters argument for each element that you want the translator to handle. The following snippet — from the <a href="https://github.com/DuRoom/framework/blob/main/framework/core/js/src/admin/components/EditGroupModal.js" target="_blank" rel="noopener noreferrer">Edit Group modal</a> of the admin interface — shows a translation key accompanied by a parameters object with one item.</p><div class="language-jsx codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-jsx codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">className</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">helpText</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">translator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">trans</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;icon_text&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">a</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">https://fortawesome.github.io/Font-Awesome/icons/</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">tabindex</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">-1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that each parameter is defined using a single HTML tag, with a slash added before the closing angle bracket. You can then use HTML-style opening and closing tags in your locale file to specify which part of the translation is affected by each element. Once again, double quotes are required.
You can see that not all tags are passed as an argument, only those who have attributes.</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">icon_text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Enter the name of any &lt;a&gt;FontAwesome&lt;/a&gt; icon class, &lt;em&gt;without&lt;/em&gt; the &lt;code&gt;fa-&lt;/code&gt; prefix.&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Of course, you can give a parameter any name you like <!-- -->—<!-- --> you could use <code>&lt;fred&gt;</code> and <code>&lt;/fred&gt;</code> to enclose your link text if you really wanted to! But we recommend sticking as close as possible to the actual HTML tags being represented, so your localizers will be able to understand what&#x27;s going on.</p><p>Localizers can reorder elements as needed, and even choose to omit tags if they so desire. But they can&#x27;t add any tags of their own: the translator will simply ignore any HTML-style tag that doesn&#x27;t correspond to a properly defined parameter in the code.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="pluralization-and-icu-messageformat">Pluralization and ICU MessageFormat<a class="hash-link" href="#pluralization-and-icu-messageformat" title="Direct link to heading">​</a></h3><p>On occasion, you may need to provide alternate versions of a translation to accommodate pluralization of a word or phrase. DuRoom uses the<a href="https://lokalise.com/blog/complete-guide-to-icu-message-format/#Pluralization" target="_blank" rel="noopener noreferrer">ICU MessageFormat</a> syntax to support selecting versions of translations based on variables. The most frequent use case is pluralization and genderization.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> remaining </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">minPrimary</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> primaryCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">translator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">trans</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;choose_primary_placeholder&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">count</span><span class="token operator">:</span><span class="token plain"> remaining </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This example is from the <a href="https://github.com/DuRoom/tags/blob/master/js/src/forum/components/TagDiscussionModal.js" target="_blank" rel="noopener noreferrer">Choose Tags modal</a> of the Tags extension, where it tells the user how many more primary tags can be selected. Here&#x27;s the English translation in ICU MessageFormat for the above code:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">choose_primary_placeholder</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;{count, plural, one {Choose a primary tag} other {Choose {count} primary tags}}&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case, we call the pluralization variable <code>count</code>. This isn&#x27;t required, but we strongly recommend using <code>count</code> for consistency.</p><p>Of course English has only two variants: singular or plural. You may want to provide additional variants when creating translations for a language that has more than one plural form.</p><p>In addition to <code>=0/=1/=2/...</code> and <code>other</code>, the following plural keywords are supported: <code>zero</code>, <code>one</code>, <code>two</code>, <code>few</code>, and <code>many</code>.</p><p>See the <a href="https://symfony.com/doc/5.2/translation/message_format.html" target="_blank" rel="noopener noreferrer">Symfony Translation docs</a> for more complex examples.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="dealing-with-gender">Dealing with Gender<a class="hash-link" href="#dealing-with-gender" title="Direct link to heading">​</a></h3><p>Support for grammatical gender will be added in a future version of DuRoom. Detailed instructions will be provided here once that functionality becomes available.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="server-side-translation">Server-side Translation<a class="hash-link" href="#server-side-translation" title="Direct link to heading">​</a></h2><p>Translation is generally handled by DuRoom&#x27;s front-end client. However, you can use translations in your PHP code if you need to.</p><p>First, you&#x27;ll need to get an instance of the <code>DuRoom\Locale\Translator</code> class. You&#x27;ll usually do this by typehinting this class in the constructor of your class so a translator instance is injected by the <a href="https://laravel.com/docs/8.x/container" target="_blank" rel="noopener noreferrer">IoC Container</a>. If dependency injection is not available, you can use <code>resolve(Translator::class)</code>. Don&#x27;t forget a <code>use DuRoom\Locale\Translator;</code> statement at the top of your PHP file!</p><p>Then, the API is similar to the JavaScript Translator class. You can use <code>$translator-&gt;trans</code> like you&#x27;d use <code>app.translator.trans</code> in JavaScript.
You can learn more about the Translator&#x27;s methods in <a href="https://symfony.com/doc/5.2/translation/message_format.html" target="_blank" rel="noopener noreferrer">Symfony&#x27;s <code>Translator</code> documentation</a>, which DuRoom&#x27;s <code>Translator</code> extends.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="registering-locales">Registering Locales<a class="hash-link" href="#registering-locales" title="Direct link to heading">​</a></h2><p>There&#x27;s one last thing you need to do before DuRoom can use your translations. You need to register them. Fortunately, DuRoom makes this pretty easy. Add the following to your <code>extend.php</code>:</p><div class="language-php codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-php codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Extend</span><span class="token function punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token function" style="color:rgb(80, 250, 123)">Locales</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">__DIR__</span><span class="token plain"> </span><span class="token operator">.</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:rgb(255, 121, 198)">&#x27;/locale&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="appendix-a-standard-key-format">Appendix A: Standard Key Format<a class="hash-link" href="#appendix-a-standard-key-format" title="Direct link to heading">​</a></h2><p>The following guidelines were created for use in the DuRoom core and bundled extensions. Their purpose is to ensure that translation keys are organized and named in a consistent fashion, so DuRoom&#x27;s localizers will be able to create and maintain high-quality language packs with a minimum of difficulty.</p><p>Developers who wish to contribute to the development of DuRoom are expected to follow these guidelines. Third-party developers may also wish to follow them, so experienced DuRoom localizers who undertake the translation of third-party extensions will find themselves working in familiar surroundings.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="namespacing-translations">Namespacing Translations<a class="hash-link" href="#namespacing-translations" title="Direct link to heading">​</a></h3><p>All translations are to be organized in categories, using namespacing keys arranged in up to <strong>three</strong> levels. Each level provides localizers with an important bit of information about <em>where the translation is used:</em></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="-the-top-level-key-indicates-which-component-uses-the-translation">➡ The top-level key indicates <em>which component uses the translation</em>.<a class="hash-link" href="#-the-top-level-key-indicates-which-component-uses-the-translation" title="Direct link to heading">​</a></h4><p>The namespacing for translation keys used in official DuRoom components, including bundled extensions, should match the name of the language pack locale file for the component in question. The namespaces for DuRoom&#x27;s non-extension components are fixed as shown below:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used by the DuRoom core</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used by Laravel&#x27;s validator</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Translation keys used in an extension <!-- -->—<!-- --> including any third-party extension <!-- -->—<!-- --> need to be namespaced using the extension&#x27;s name in <code>vendor-package</code> format where the <code>duroom-</code> and <code>duroom-ext-</code> prefixes are stripped from the <code>package</code> (e.g, <code>duroom-tags</code> for the Tags extension and <code>foo-bar</code> for a <code>foo/duroom-ext-bar</code> extension).</p><p>There should be only <strong>one</strong> first-level prefix in any locale file; it should be the first line in the locale file.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="-the-second-level-key-indicates-which-interface-uses-the-translation">➡ The second-level key indicates <em>which interface uses the translation</em>.<a class="hash-link" href="#-the-second-level-key-indicates-which-interface-uses-the-translation" title="Direct link to heading">​</a></h4><p>Since DuRoom doesn&#x27;t have all that many interfaces, we&#x27;ve come up with a short list of second-level keys for you to choose from. We&#x27;ve included the more frequently used ones in the locale file template created with the extension skeleton. Below you will find the complete list, with explanations:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used by the admin interface.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">forum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used by the forum user interface.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">lib</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used by either of the above.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">views</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used outside the normal JS client.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">api</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used in messages output by the API.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used in emails sent by DuRoom.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first four keys correspond roughly to the directories containing the code where the translations in that namespace will be used. (Most of your keys will probably go in <code>admin</code> or <code>forum</code>.) The remaining two keys are a bit different: the <code>api</code> namespace is for translations used in messages output by the API, while the <code>email</code> namespace contains the resources for all emails sent by the forum.</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations referenced by more than one key.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">group</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Translations used as default group names.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>These two keys don&#x27;t correspond to interfaces; they&#x27;re for translations that require special handling. We&#x27;ll explain how to use the <code>ref</code> namespace when we talk about <a href="#reusing-translations">reusing translations</a>. The <code>group</code> namespace holds the default group names, which are translated by the server rather than at the front end.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="-the-third-level-key-indicates-which-part-of-the-ui-uses-the-translation">➡ The third-level key indicates <em>which part of the UI uses the translation</em>.<a class="hash-link" href="#-the-third-level-key-indicates-which-part-of-the-ui-uses-the-translation" title="Direct link to heading">​</a></h4><p>The keys in this level are not so rigidly defined. Their main purpose is to chop the UI up into manageable chunks, so localizers can find the translations and see for themselves how they are used by the software. (Third-level keys aren&#x27;t used in the <code>ref</code> and <code>group</code> namespaces, which don&#x27;t need chopping.)</p><p>If you&#x27;re modifying an existing location <!-- -->—<!-- --> to add a new setting to the Settings page, for example <!-- -->—<!-- --> you should copy our namespacing so experienced DuRoom localizers will know at a glance exactly where the new translations are displayed. See English translations in <code>duroom/core</code> and bundled extensions for examples.</p><p>If your extension adds a new location <!-- -->—<!-- --> such as a new dialog box <!-- -->—<!-- --> you should feel free to create a new third-level key to namespace the translations that go there. Take a couple minutes to familiarize yourself with the namespacing in the locale files linked above, then create a new key that fits in with that scheme.</p><p>As a general rule, third-level keys should be short <!-- -->—<!-- --> no more than one or two words <!-- -->—<!-- --> and expressed in <code>snake_case</code>. They should be descriptive of the locations where the translations are used.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="naming-identifier-keys">Naming Identifier Keys<a class="hash-link" href="#naming-identifier-keys" title="Direct link to heading">​</a></h3><p>Like the third-level namespacing keys, identifier keys should be expressed in <code>snake_case</code>. ID keys should be arranged in alphabetical order within each namespace, so they&#x27;ll be easy for developers to find. (There is one exception to this rule! ID keys in the <code>email</code> namespace should be listed just as they appear in your mail client: <code>subject</code> first, then <code>body</code>.)</p><p>The typical ID key consists of two parts <!-- -->—<!-- --> a <strong>root</strong> and a <strong>suffix</strong> <!-- -->—<!-- --> each of which may be omitted in certain circumstances. Just as the namespacing keys tell localizers <em>where the translation is used</em>, each part of the ID key provides a further bit of information about the translation:</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="-the-suffix-indicates-how-the-translation-is-used">➡ The suffix indicates <em>how the translation is used</em>.<a class="hash-link" href="#-the-suffix-indicates-how-the-translation-is-used" title="Direct link to heading">​</a></h4><p>We&#x27;ll start with the suffix because it&#x27;s the most important part of the key name. It tells localizers what sort of object they should look for when trying to find the translation in the interface. For example, the suffixes in the following list are used for GUI objects more or less related to user operations:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">_button</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for buttons (including dropdown menu items).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for links that are not shown graphically as buttons.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_heading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for headings in tables and lists.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for the names of data fields, checkbox settings, etc.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_placeholder</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for placeholder text displayed in fields.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>These suffixes are used for informative or descriptive text elements:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">_confirmation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for messages displayed to confirm an operation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for messages that show the result of an operation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for any text that is not a message, title, or tooltip.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for text displayed as the title of a page or modal.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_tooltip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for text displayed when the user hovers over something.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And there are two suffixes that are used only in the <code>email</code> namespace:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">_body</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for the content of the email message.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">_subject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Used for the subject line of the email message.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above is a complete listing of the suffixes available for use in locale files. You should take care to use them consistently, as doing so will make life easier for localizers. If you feel something is missing from the list, please file an issue with the developers; we&#x27;ll consider adding a new suffix if the situation warrants it.</p><p>Suffixes should be <strong>omitted</strong> from ID keys for <a href="#reusing-translations">reused translations</a> in the <code>ref:</code> namespace. This is because you can&#x27;t be sure these translations will always be used in the same context. Adding a new context would mean changing the key name <em>everywhere it&#x27;s referenced</em> <!-- -->…<!-- --> so it&#x27;s best to keep these translations generic.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="-the-root-indicates-what-the-translation-says">➡ The root indicates <em>what the translation says</em>.<a class="hash-link" href="#-the-root-indicates-what-the-translation-says" title="Direct link to heading">​</a></h4><p>In other words, it should be a brief summation of the translation&#x27;s content. If the translation is a very short phrase <!-- -->—<!-- --> no more than a few words long <!-- -->—<!-- --> you may want to use it verbatim (in <code>snake_case</code>, of course). If it&#x27;s very long, on the other hand, you should try to boil it down to as few words as possible.</p><p>In some cases, the summary may be replaced by a description of the object&#x27;s function. This is commonly seen in buttons. The button that submits a form should be identified as a <code>submit_button</code> regardless of whether the translation says &quot;OK&quot; or &quot;Save Changes&quot;. In a similar vein, the button that dismisses a dialog or message box is always a <code>dismiss_button</code>, even if it actually reads &quot;OK&quot; or &quot;Cancel&quot;.</p><p>The root may also be <strong>omitted</strong> in certain cases <!-- -->—<!-- --> usually when the suffix alone is sufficient to identify the translation. For example, it&#x27;s unlikely that a page or dialog box will have more than one title <!-- -->…<!-- --> and like as not, the content of the title is already given in the third-level namespacing! So the suffix can stand alone.</p><p>Suffixes are also sufficient to identify the subject and body components of an email message since each email will have only one subject line and one body. Note that the leading underscore is omitted in such cases: you would use just <code>title</code>, <code>subject</code>, or <code>body</code> as the ID key.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="reusing-translations">Reusing Translations<a class="hash-link" href="#reusing-translations" title="Direct link to heading">​</a></h3><p>DuRoom&#x27;s unique <a href="#key-references">key references</a> fulfill the same role as YAML anchors, but they&#x27;re better in one respect: you can even reference keys in a different file! For this reason, you need to use the <strong>full translation key</strong> when referencing. Here&#x27;s a more realistic example of how referencing works, complete with namespacing:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">forum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">header</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">log_in_link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> core.ref.log_in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">log_in</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">submit_button</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> core.ref.log_in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> core.ref.log_in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">log_in</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Log In</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see, we want to reuse a single translation in three different contexts (including two locations): (1) as a link displayed in the site header, (2) as a button displayed in the Log In modal, and (3) as the title of that modal. So all three of these keys have been set to reference the same full translation key.</p><p>The reused translation is identified by a key that omits the suffix <!-- -->—<!-- --> as specified <a href="#naming-identifier-keys">above</a> <!-- -->—<!-- --> and is placed in the <code>ref</code> namespace. The latter measure is needed to avoid conflicts that can occur if a reused translation is given the same name as a second-level namespacing key. (The <code>email</code> keys are a case in point.)</p><p>The <code>ref</code> namespace also makes it easy to track translation reuse. Imagine what would happen if you set the scalars for the button and title to reference <code>core.forum.header.log_in_link</code> instead:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">forum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">header</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">log_in_link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> Log In</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">log_in</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">submit_button</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> core.forum.header.log_in_link  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Never reference keys</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> core.forum.header.log_in_link          </span><span class="token comment" style="color:rgb(98, 114, 164)"># that aren&#x27;t in &quot;ref&quot;!</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It would very easy to change the translation for the header link without realizing that you&#x27;re also changing things in the Log In modal <!-- -->—<!-- --> to say nothing of any extensions that might also be referencing that key! This sort of thing will be less likely to occur if you keep your reused translations in the <code>ref</code> namespace.</p><p>For this reason, any key references in the <a href="https://github.com/DuRoom/framework/blob/main/framework/core/locale/core.yml" target="_blank" rel="noopener noreferrer">core resources</a> <strong>must</strong> point to keys in the <code>core.ref</code> namespace. Key references in the resources for bundled extensions may point to either of two locations:</p><ul><li><p>Extension-specific translations should go in the <code>ref</code> namespace of the extension&#x27;s locale file.</p></li><li><p>Translations used by both the extension and the core should go in the <code>core.ref</code> namespace.</p></li></ul><p>Third-party extensions are welcome to reference keys in the <code>core.ref</code> namespace, but please be aware that we cannot add translations to this namespace based on reuse in third-party extensions. A third-party dev who wants to reuse a translation from a namespace other than <code>core.ref</code> will need to add a properly keyed duplicate translation to the extension&#x27;s locale file.</p><p>No extension should ever reference a key from another extension, as doing so will result in a dependency.</p><p>One final caution: translation keys in the <code>ref</code> namespace should <strong>never</strong> be inserted directly in code. This is because localizers may end up creating a translation to replace every reference to a reused translation key <!-- -->—<!-- --> in which case they would be within their rights to remove that key from the locale file. If such a key were being used in the code, it would end up without a matching resource to translate it!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="adding-comments">Adding Comments<a class="hash-link" href="#adding-comments" title="Direct link to heading">​</a></h3><p>Comments (and empty lines) should be added to locale files so localizers will find them easier to navigate.</p><p>We&#x27;ve included some <strong>block comments</strong> in the locale file template included with the extension skeleton. They are there to remind developers of some basic concepts: translation keys should not be used in more than one place; keys for reused translations should never be inserted directly in code; and so forth.</p><p>You should add <strong>comment lines</strong> above every second- or third-level namespacing key, to give localizers a more complete description of the location covered by that namespace. When copying existing keys, be sure to copy the comment as well (and modify it if necessary). If you add a new third-level key, remember to preface it with a comment to explain the location being added.</p><p>You may also wish to add <strong>inline comments</strong> after a specific translation to provide localizers with further information about that translation (such as the fact that a translation can be pluralized if necessary).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="appendix-b-coding-for-the-world">Appendix B: Coding for the World<a class="hash-link" href="#appendix-b-coding-for-the-world" title="Direct link to heading">​</a></h2><p>In this appendix, we&#x27;d like to offer a few tips that may help you to avoid some of the more common pitfalls in the internationalization process. Abstracting language from code is easily one of the more humdrum tasks a programmer has to deal with, but if you don&#x27;t give due attention to the subtleties involved, you&#x27;re likely to end up creating your localizers an unnecessary headache or two.</p><p>Of course, it&#x27;s not just about making life easier for localizers. Because when they get headaches, they will come to you for help <!-- -->—<!-- --> often months (or even years) after you&#x27;ve put the project behind you and moved on to something else! It&#x27;s the sort of situation where an ounce or two of prevention may indeed be worth several pounds of cure further down the road <!-- -->…<!-- --> for everybody involved.</p><p>It&#x27;s probably impossible to avoid localization issues completely; there are just too many variables. But by following a few simple guidelines, you should be able to head off many issues before they happen.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="eliminate-all-hardcoded-text">Eliminate All Hardcoded Text!<a class="hash-link" href="#eliminate-all-hardcoded-text" title="Direct link to heading">​</a></h3><p>This probably goes without saying. After all, if you&#x27;re going to go to the trouble of extracting translations, you might as well finish the job, right? Well, yes, but that&#x27;s easier said than done. It&#x27;s really quite unusual to find a program that doesn&#x27;t have at least a few bits of hardcoded text floating around somewhere.</p><p>Even tiny bits of text can cause problems for localizers. A comma here, a colon there <!-- -->…<!-- --> perhaps a pair of brackets inserted to make the page more legible: such things can and do cause issues for localizers. After all, not all languages use the same glyphs for these things! Just one hardcoded space can be a problem for someone trying to translate the interface into a language that doesn&#x27;t use spaces to separate words.</p><p>Generally speaking, any displayed text that isn&#x27;t supplied by a variable or the result of a calculation <em>must</em> be included in the locale files. That&#x27;s easily said, but actually doing it takes a bit of perseverance.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="avoid-hardcoded-syntax">Avoid Hardcoded Syntax!<a class="hash-link" href="#avoid-hardcoded-syntax" title="Direct link to heading">​</a></h3><p>Hardcoded text isn&#x27;t the only way that code can create problems for localizers. Hardcoded syntax issues occur when the code forces words into a specific order that just won&#x27;t work in other languages. They are generally the result of using two translations where just one would be more appropriate.</p><p>For an example, let&#x27;s look at the line of text that&#x27;s printed near the bottom of the <a href="https://github.com/DuRoom/framework/blob/main/framework/core/js/src/forum/components/LogInModal.tsx" target="_blank" rel="noopener noreferrer">Log In modal</a>:</p><blockquote><p>Don&#x27;t have an account? <a href="#">Sign Up</a></p></blockquote><p>We originally coded this line as two translations, which were separated by a hardcoded space:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">before_sign_up_link</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Don&#x27;t have an account?&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">sign_up</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Sign Up</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There were good reasons for doing it this way. For one thing, it made it easy to turn the second half into a link. And since the second translation is reused elsewhere, keeping it separate seemed like a no-brainer.</p><p>But there were problems with this approach. The hardcoded space seemed likely to pose issues for some localizers, as mentioned above. And splitting this text into two strings would make it impossible to render the line as a single sentence with the link embedded in the middle:</p><blockquote><p>If you don&#x27;t have an account yet, you can <a href="#">sign up</a> instead!</p></blockquote><p>Since it seemed possible that a localizer might need this sort of flexibility, we opted to abstract the line as a single translation, using HTML-style tags to enclose the link text:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">sign_up_text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Don&#x27;t have an account? &lt;a&gt;Sign Up&lt;/a&gt;&quot;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This puts the (formerly hardcoded) space in the translation, so localizers who don&#x27;t need it can remove it. And the tags can be positioned freely within the translation, making this approach much more flexible.</p><p>The moral of this story is: when you&#x27;ve got two adjacent chunks of text which seem related to each other grammatically <!-- -->—<!-- --> or even semantically <!-- -->—<!-- --> you should think about finding a way to incorporate them both in a single translation. Your localizers may have cause to thank you!</p><p>We might also conclude that the presence of little bits of hardcoded text <!-- -->—<!-- --> such as the hardcoded space in this example <!-- -->—<!-- --> may be a sort of <a href="https://en.wikipedia.org/wiki/Code_smell" target="_blank" rel="noopener noreferrer">code smell</a> indicating the presence of a deeper issue. This isn&#x27;t always the case, but it&#x27;s a possibility that&#x27;s worth taking into consideration.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="keep-an-eye-out-for-plurals">Keep an Eye Out for Plurals!<a class="hash-link" href="#keep-an-eye-out-for-plurals" title="Direct link to heading">​</a></h3><p>They are surprisingly easy to overlook. Of course, the need for pluralization support is fairly obvious here:</p><blockquote><p>Toby likes this.
You like this.
Toby and Franz like this.</p></blockquote><p>And the situation is complicated by the presence of the second-person pronoun, since it always takes the plural form in English, even when we&#x27;re talking about one person. That&#x27;s why the <code>app.translator</code> call is so complicated in the code that outputs the above sentences for the <a href="https://github.com/DuRoom/likes/blob/master/js/src/forum/addLikesList.js" target="_blank" rel="noopener noreferrer">Likes extension</a>.</p><p>Now look at this similar set of sentences, output by similar code in the <a href="https://github.com/DuRoom/mentions/blob/master/js/src/forum/addMentionedByList.js" target="_blank" rel="noopener noreferrer">Mentions extension</a>:</p><blockquote><p>Toby replied to this.
You replied to this.
Toby and Franz replied to this.</p></blockquote><p>In English, the simple past tense is not affected by pluralization. Since the verb phrase is always the same, it would be fairly easy to ignore the plurals and use the <code>app.translator.trans()</code> method to produce the single necessary translation. Of course, that simply wouldn&#x27;t work for the French localizer, who needs to inflect the verb differently in each of the above three sentences.</p><p>This is the sort of situation where the humdrum chore of language abstraction requires a bit of extra care and attention. Remember to ask yourself whether each noun (or pronoun) can be pluralized. If it can, make sure to pass an appropriate variable to the translator. Of course, you don&#x27;t need to provide any variant translations in the English resources <!-- -->…</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">mentioned_by_text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;{users} replied to this.&quot;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)"># Can be pluralized ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">mentioned_by_self_text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;{users} replied to this.&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Can be pluralized ...</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>…<!-- --> but it would be a very good idea to add a comment after the translations in question, to alert localizers to the fact that the code will support the addition of such variants, should they be necessary.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="reuse-translations-not-keys">Reuse Translations, Not Keys!<a class="hash-link" href="#reuse-translations-not-keys" title="Direct link to heading">​</a></h3><p>If the namespacing keys combine to form a complete specification of where a translation is used, and the ID key specifies exactly how the translation is used and what it says, then it stands to reason that every full translation key must be unique. In other words: <em>you should never use the same key more than once!</em></p><p>Although this may sound inefficient, there&#x27;s a good reason for doing things this way: it&#x27;s the easiest way to ensure that localizers will have the flexibility they need. If you reuse keys in your code, you&#x27;ll eventually hit a snag. Your localizers will be unable to find a single expression that fits every context where you&#x27;ve used some key or other <!-- -->…<!-- --> and then they&#x27;ll start bugging you to fix your code.</p><p>Fortunately, you can avoid many such issues if you simply take care to <a href="#namespacing-translations">namespace translations</a> correctly, <a href="#naming-identifier-keys">name your ID keys</a> appropriately, and always <a href="#reusing-translations">reuse translations</a> instead of keys. Though it may seem like a bother, in the long run, the <a href="#appendix-a:-standard-key-format">standard format</a> will make localization much easier for <em>everyone</em>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/DuRoom/docs/tree/master/docs/extend/i18n.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/extend/interactive-components"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Interactive Components</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/extend/language-packs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Translating DuRoom</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-duroom-translates" class="table-of-contents__link toc-highlight">How DuRoom Translates</a></li><li><a href="#locale-file" class="table-of-contents__link toc-highlight">Locale File</a><ul><li><a href="#adding-keys" class="table-of-contents__link toc-highlight">Adding Keys</a></li><li><a href="#adding-translations" class="table-of-contents__link toc-highlight">Adding Translations</a></li></ul></li><li><a href="#using-the-translator" class="table-of-contents__link toc-highlight">Using the Translator</a></li><li><a href="#including-variables" class="table-of-contents__link toc-highlight">Including Variables</a><ul><li><a href="#adding-html-tags" class="table-of-contents__link toc-highlight">Adding HTML Tags</a></li><li><a href="#pluralization-and-icu-messageformat" class="table-of-contents__link toc-highlight">Pluralization and ICU MessageFormat</a></li><li><a href="#dealing-with-gender" class="table-of-contents__link toc-highlight">Dealing with Gender</a></li></ul></li><li><a href="#server-side-translation" class="table-of-contents__link toc-highlight">Server-side Translation</a></li><li><a href="#registering-locales" class="table-of-contents__link toc-highlight">Registering Locales</a></li><li><a href="#appendix-a-standard-key-format" class="table-of-contents__link toc-highlight">Appendix A: Standard Key Format</a><ul><li><a href="#namespacing-translations" class="table-of-contents__link toc-highlight">Namespacing Translations</a></li><li><a href="#naming-identifier-keys" class="table-of-contents__link toc-highlight">Naming Identifier Keys</a></li><li><a href="#reusing-translations" class="table-of-contents__link toc-highlight">Reusing Translations</a></li><li><a href="#adding-comments" class="table-of-contents__link toc-highlight">Adding Comments</a></li></ul></li><li><a href="#appendix-b-coding-for-the-world" class="table-of-contents__link toc-highlight">Appendix B: Coding for the World</a><ul><li><a href="#eliminate-all-hardcoded-text" class="table-of-contents__link toc-highlight">Eliminate All Hardcoded Text!</a></li><li><a href="#avoid-hardcoded-syntax" class="table-of-contents__link toc-highlight">Avoid Hardcoded Syntax!</a></li><li><a href="#keep-an-eye-out-for-plurals" class="table-of-contents__link toc-highlight">Keep an Eye Out for Plurals!</a></li><li><a href="#reuse-translations-not-keys" class="table-of-contents__link toc-highlight">Reuse Translations, Not Keys!</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 DuRoom. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ed85cb5e.js"></script>
<script src="/assets/js/main.ca42051b.js"></script>
</body>
</html>